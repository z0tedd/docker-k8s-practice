#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 894B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/ubuntu:22.04
#2 DONE 1.2s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [first 1/7] FROM docker.io/library/ubuntu:22.04@sha256:01a3ee0b5e413cefaaffc6abe68c9c37879ae3cced56a8e088b1649e5b269eee
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 17.34kB 0.0s done
#5 DONE 0.1s

#6 [first 3/7] RUN git clone https://github.com/microsoft/vcpkg.git  &&   cd vcpkg &&   ./bootstrap-vcpkg.sh &&   ./vcpkg install drogon
#6 CACHED

#7 [first 2/7] RUN apt-get update &&   apt-get install -y git cmake build-essential libssl-dev uuid-dev curl pkg-config
#7 CACHED

#8 [first 4/7] WORKDIR /app
#8 CACHED

#9 [first 5/7] COPY . .
#9 DONE 0.4s

#10 [first 6/7] RUN rm -R build && mkdir build && cd build && cmake .. && make
#10 0.496 -- The CXX compiler identification is GNU 11.4.0
#10 0.519 -- Detecting CXX compiler ABI info
#10 0.663 -- Detecting CXX compiler ABI info - done
#10 0.681 -- Check for working CXX compiler: /usr/bin/c++ - skipped
#10 0.683 -- Detecting CXX compile features
#10 0.684 -- Detecting CXX compile features - done
#10 0.698 -- Found Jsoncpp: /vcpkg/installed/x64-linux/include  
#10 0.709 -- jsoncpp version:1.9.6
#10 0.797 -- Looking for C++ include pthread.h
#10 0.927 -- Looking for C++ include pthread.h - found
#10 0.928 -- Performing Test CMAKE_HAVE_LIBC_PTHREAD
#10 1.056 -- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
#10 1.058 -- Found Threads: TRUE  
#10 1.059 -- Found OpenSSL: /vcpkg/installed/x64-linux/lib/libcrypto.a (found version "3.5.0")  
#10 1.075 -- Found UUID: /vcpkg/installed/x64-linux/lib/libuuid.a
#10 1.085 -- Found ZLIB: /vcpkg/installed/x64-linux/lib/libz.a (found version "1.3.1") 
#10 1.088 -- Found Brotli: /vcpkg/installed/x64-linux/lib/libbrotlidec.a  
#10 1.092 -- Looking for C++ include filesystem
#10 1.912 -- Looking for C++ include filesystem - found
#10 1.914 -- Performing Test CXX_FILESYSTEM_NO_LINK_NEEDED
#10 3.136 -- Performing Test CXX_FILESYSTEM_NO_LINK_NEEDED - Success
#10 3.147 -- Configuring done
#10 3.154 -- Generating done
#10 3.157 -- Build files have been written to: /app/build
#10 3.218 [ 25%] Building CXX object CMakeFiles/hello-server.dir/main.cpp.o
#10 8.389 [ 50%] Building CXX object CMakeFiles/hello-server.dir/src/HelloController.cpp.o
#10 12.02 [ 75%] Building CXX object CMakeFiles/hello-server.dir/src/CityInfoController.cpp.o
#10 15.39 [100%] Linking CXX executable hello-server
#10 19.53 [100%] Built target hello-server
#10 DONE 19.9s

#11 [first 7/7] RUN ls -al /app/build
#11 0.452 total 47688
#11 0.452 drwxr-xr-x 1 root root      126 Jun 28 21:04 .
#11 0.452 drwxr-xr-x 1 root root       10 Jun 28 21:04 ..
#11 0.452 -rw-r--r-- 1 root root    21326 Jun 28 21:04 CMakeCache.txt
#11 0.452 drwxr-xr-x 1 root root      302 Jun 28 21:04 CMakeFiles
#11 0.452 -rw-r--r-- 1 root root     9163 Jun 28 21:04 Makefile
#11 0.452 -rw-r--r-- 1 root root     2365 Jun 28 21:04 cmake_install.cmake
#11 0.452 -rwxr-xr-x 1 root root 48788616 Jun 28 21:04 hello-server
#11 DONE 0.6s

#12 [stage-1 1/2] COPY --from=first /app/build/hello-server /hello-server
#12 CACHED

#13 [stage-1 2/2] RUN ls -al /
#13 0.268 runc run failed: unable to start container process: error during container init: exec: "/bin/sh": stat /bin/sh: no such file or directory
#13 ERROR: process "/bin/sh -c ls -al /" did not complete successfully: exit code: 1
------
 > [stage-1 2/2] RUN ls -al /:
0.268 runc run failed: unable to start container process: error during container init: exec: "/bin/sh": stat /bin/sh: no such file or directory
------
Dockerfile:28
--------------------
  26 |     FROM scratch
  27 |     COPY --from=first /app/build/hello-server /hello-server
  28 | >>> RUN ls -al / 
  29 |     # Запуск сервера
  30 |     CMD ["/hello-server"]
--------------------
ERROR: failed to solve: process "/bin/sh -c ls -al /" did not complete successfully: exit code: 1
